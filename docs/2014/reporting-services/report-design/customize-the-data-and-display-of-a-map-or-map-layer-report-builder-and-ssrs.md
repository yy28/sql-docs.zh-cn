---
title: 自定义的数据和显示的地图或地图层 （报表生成器和 SSRS） |Microsoft 文档
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology:
- reporting-services-native
ms.topic: conceptual
f1_keywords:
- "10521"
- sql12.rtp.rptdesigner.shared.shadowdv.f1
- "10515"
- "10512"
- "10520"
- "10523"
- sql12.rtp.rptdesigner.mapgroupproperties.variables.f1
- sql12.rtp.rptdesigner.mapgroupproperties.filter.f1
- sql12.rtp.rptdesigner.shared.number.f1
- sql12.rtp.rptdesigner.shared.font.f1
- sql12.rtp.rptdesigner.mapgroupproperties.general.f1
- "10507"
ms.assetid: fdd9b994-d138-4990-a291-279b0249eb72
author: maggiesMSFT
ms.author: maggies
manager: craigg
ms.openlocfilehash: a91aa2823238691953e7219b027368e642784fdd
ms.sourcegitcommit: 334cae1925fa5ac6c140e0b2c38c844c477e3ffb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/13/2018
ms.locfileid: "53350376"
---
# <a name="customize-the-data-and-display-of-a-map-or-map-layer-report-builder-and-ssrs"></a>自定义地图或地图层的数据和显示（报表生成器和 SSRS）
  在使用向导向报表中添加地图或地图层之后，您可能希望更改地图在报表中的显示方式。 可以考虑以下构思来进行改进：  
  
-   为了帮助用户了解如何解释地图上的数据显示，可以添加图例和色阶以及添加标签和工具提示。  
  
-   若要使地图变得更易读，请更改中心和缩放级别、添加距离刻度以及显示背景网格。  
  
-   为了在运行报表时帮助控制地图的绘制时间，可以调整分辨率以简化地图元素。  
  
-   可以在报表定义中嵌入地图元素，然后更改各元素的显示方式。 例如，可以使用图钉显示主办公地点，而使用圆圈来显示其他办公地点。  
  
-   您可以通过指定自己的数据组表达式，添加自定义区域。  
  
-   可以在您在具有嵌入点的地图层上指定的某个点处添加自定义位置。 对于自定义点，可以独立于点层上的其他点为其设置值和显示属性。  
  
-   若要提供更多详细信息，可以添加指向每层上各地图元素的链接，用户单击此类链接即可打开相关的报表。  
  
 有关改进报表的更多想法，请参阅[规划报表（报表生成器）](planning-a-report-report-builder.md)。  
  
 显示选项会影响您查看报表时地图或地图部分显示的方式。 某些选项控制地图的外观，例如，边框和字体或地图上表示的区域。 其他选项可控制每一层的内容，例如气泡大小、标记类型、标签或工具提示。  
  
 地图报表项包括以下部分：地图本身、地图视区、一组标题、一组图例（图例、色阶和距离刻度）、一组层以及每一层上的一组地图元素（多边形、线条或点）。 使用以下各部分中的信息可以了解哪一属性对话框控制地图的各不同部分的显示选项。  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
##  <a name="Map"></a> 更改地图的选项  
 在地图报表项上，可以控制以下内容：  
  
-   添加多个标题。  
  
-   添加多个图例。 若要更改图例的内容，您需要创建其他图例，然后更改规则以指定要在哪个图例中输入由每个规则创建的图例项。  
  
-   添加更多层。  
  
-   显示或隐藏距离刻度或色阶。  
  
-   通过指定阴影，提供具有深度的错觉。  
  
 若要更改这些选项，请右键单击“地图”，然后更改选项。  
  
 
  
##  <a name="Viewport"></a> 更改视区的选项  
 使用视区选项可以更改报表中显示的地图的视图。  
  
 空间数据源提供的区域可能大于报表中您需要显示的区域。 可以使用视区来设置中心、缩放级别以及裁剪地图的区域。  
  
 可以为视区设置以下选项：  
  
-   选择坐标系，并对于地理坐标系选择投影。  
  
-   选择地图的中心。  
  
-   裁剪地图的视图。  
  
-   设置缩放级别。  
  
-   分辨率和简化。 对于线条和多边形，在绘制时间与轮廓详细程度之间选择平衡。  
  
 若要更改这些选项，请右键单击地图视区，然后使用[地图视区属性”对话框 -&gt;“常规”](../map-viewport-properties-dialog-box-general.md)页和相关页。   
  

  
##  <a name="Legends"></a> 更改图例的选项  
 图例可帮助用户解释地图上的数据。  
  
 默认情况下，您为层指定的所有规则会向第一个图例添加项。 此外，所有颜色规则都在色阶中显示值。  
  
-   若要更改图例外观的显示选项（包括它相对于视区的位置），请对图例本身设置选项。  
  
-   若要更改图例的内容或内容格式，请对层更改对应规则的图例选项。  
  
 有关详细信息，请参阅 [更改地图图例、色阶和关联的规则（报表生成器和 SSRS）](change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md)。  
  

  
##  <a name="Layer"></a> 更改层的选项  
 若要显示地图的层，请单击地图以选择对应的层。 “地图”窗格将出现。 若要更改层的选项，请右键单击该层并使用快捷方式菜单。  
  
 层可以为三种类型之一，具体取决于由空间数据源返回的空间数据：多边形层、线条层或点层。  
  
 可以为层设置以下选项：  
  
-   关联的分析数据和匹配字段。 空间数据源在“地图”窗格中对应层的名称之下列出。 当嵌入源时，层的地图元素是报表定义的组成部分。 如果未嵌入源，则将在运行时检索空间数据，并且报表处理器将在处理报表时为层创建地图元素。 若要更改层的数据选项，请使用“地图层”对话框中的“分析数据”页。  
  
-   层绘制顺序。 您查看“地图”窗格中列出的各层的顺序就是层的反向绘制顺序。 列表中的最后一层最先绘制。 例如，如果您希望某个点层上的点显示在多边形层中各多边形的顶部，则首先绘制点层，然后绘制多边形层。  
  
-   层可见性，包括透明度。 若要让一层透过另一层显示，请将透明度设置为大于 0 的值。 值为 100% 表示该层不可见。 若要处理单个层，可以使用“地图”窗格中的 **“可见性”** 图标，轻松地单独显示或隐藏每一层。 还可以设置缩放级别选项，以根据缩放级别指定何时在层上显示或隐藏地图元素。  
  
-   为当前视区中心和缩放级别添加 Bing 地图图块层。 您不需要为图块层指定地理坐标。 如果坐标系为“地理”、投影为“Mercator”、Bing 地图服务器可用且报表服务器已配置为支持自动图块加载功能，则将自动加载图块以与视区区域匹配。 对于每个报表，可以指定是否使用安全连接来检索图块。  
  
 有关层的详细信息，请参阅[添加、更改或删除地图或地图层（报表生成器和 SSRS）](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md)。  
  
##  <a name="DataGrouping"></a> 更改层的数据分组  
 您可以自定义为您自己的形状聚合空间数据的方式。 若要设置某一层的组属性，请在“地图”窗格中选择该层，并且在该层的“属性”窗格中，单击“组”，然后单击省略号 (…) 以便打开“组”属性。 在该对话框中，您可以指定组表达式、创建组变量并且筛选用于分组的数据。  
  
 组表达式指定如何为层上的每个地图元素聚合与空间数据具有一定关系的分析数据。 默认情况下，组表达式是为空间数据与分析数据之间的关系指定的一组匹配字段。 例如，对于显示某个国家或地区的城市位置和人口规模的气泡地图，匹配字段必须包括城市名称 [City] 和区域名称 [Region]，因为可能有多个城市具有相同的名称。 相应的组表达式包括两个字段：[City] 和 [Region]。  
  
 有关详细信息，请参阅[地图提示：如何将形状文件导入到 SQL Server 中并且聚合空间数据](https://go.microsoft.com/fwlink/?LinkID=214991)。  
  
 
  
##  <a name="MapElements"></a> 更改层上地图元素的选项  
 地图元素是层上的点、线条或多边形，它们基于空间数据。 对于地图元素，可以设置以下选项。 这些选项适用于层上的所有地图元素，无论这些元素是否为嵌入的元素：  
  
-   标签、标签可见性、标签偏移量和格式。  
  
-   边框和填充。  
  
-   钻取操作。  
  
-   显示选项。  
  
 地图元素的显示选项遵循一个优先级顺序，此顺序基于层、地图元素、地图元素的规则以及嵌入地图元素的覆盖选项。  
  
 若要更改这些选项，请右键单击地图元素，然后使用嵌入的属性对话框。 例如，对于嵌入的多边形，使用“地图嵌入多边形属性”对话框中的“常规”页以及相关页。  
  

  
##  <a name="Precedence"></a> 了解显示选项优先级  
 当您要控制地图层上点、线条或多边形的显示外观时，必须了解可以在何处设置显示选项，以及哪些选项的优先级较高。 下面的显示选项按从低到高的顺序列出。 在该列表中，较高的显示选项覆盖较低的显示选项：  
  
-   层选项。  
  
-   每层上的点、线条或多边形选项。 无论地图元素是在处理报表时动态检索的，还是地图元素嵌入在报表元素中，上述选项均适用。 例如，您可以为地图上的所有元素指定一种填充颜色。  
  
-   规则。 可以设置规则来控制层上所有地图元素的颜色、大小、宽度或标记类型。 可以设置的规则取决于地图元素的类型。  
  
    -   颜色规则。 应用于点、线条、多边形的标记以及多边形中心点的标记。  
  
    -   大小规则。 应用于点的标记以及多边形中心点的标记。  
  
    -   宽度规则。 应用于线条宽度。  
  
    -   标记类型规则。 应用于点的标记以及多边形中心点的标记。  
  
-   层上各个嵌入点、线条或多边形的覆盖选项。 您进行的更改将是永久性的。 若要取消这些更改，必须为该层重新加载数据。  
  
 有关详细信息，请参阅 [按规则和分析数据更改多边形、线条和点的显示方式（报表生成器和 SSRS）](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md)。  
  

  
## <a name="see-also"></a>请参阅  
 [地图向导和地图层向导（报表生成器和 SSRS）](map-wizard-and-map-layer-wizard-report-builder-and-ssrs.md)   
 [地图（报表生成器和 SSRS）](maps-report-builder-and-ssrs.md)  
  
  
