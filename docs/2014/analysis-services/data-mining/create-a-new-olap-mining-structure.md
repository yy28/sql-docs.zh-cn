---
title: 创建新的 OLAP 挖掘结构 |Microsoft 文档
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- analysis-services
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- mining structures [Analysis Services], OLAP
- mining structures [Analysis Services], creating
- OLAP [Analysis Services], mining models
ms.assetid: 368f4273-a016-4748-bcb6-505a3e745af3
caps.latest.revision: 32
author: Minewiskan
ms.author: owend
manager: mblythe
ms.openlocfilehash: de5f39fe05cef96739205c06ecc00cf4481e141b
ms.sourcegitcommit: 5dd5cad0c1bbd308471d6c885f516948ad67dfcf
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/19/2018
ms.locfileid: "36024697"
---
# <a name="create-a-new-olap-mining-structure"></a>创建新的 OLAP 挖掘结构
  您可以使用 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 中的数据挖掘向导来创建使用来自多维模型的数据的挖掘结构。 基于 OLAP 多维数据集的挖掘模型可以使用事实表、维度和度量值组中的列和值作为分析属性。  
  
### <a name="to-create-a-new-olap-mining-structure"></a>创建新的 OLAP 挖掘结构  
  
1.  在 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] 中的解决方案资源管理器中，右键单击 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 项目中的“挖掘结构”文件夹，然后单击“新建挖掘结构”打开数据挖掘向导。  
  
2.  在 **“欢迎使用数据挖掘向导”** 页上，单击 **“下一步”**。  
  
3.  在 **“选择定义方法”** 页上，选择 **“从现有多维数据集”**，然后单击 **“下一步”**。  
  
     如果收到错误以及错误消息“无法检索支持的数据挖掘算法的列表”，则打开“项目属性”对话框，确认你指定了支持多维模型的 Analysis Services 实例的名称。 不能在支持表格建模的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例上创建挖掘模型。  
  
4.  在 **“创建数据挖掘结构”** 页上，确定是仅创建一个挖掘结构还是创建一个挖掘结构和一个相关挖掘模型。 通常，可以很容易地同时创建挖掘模型，这样，系统将会提示您包括必需的列。  
  
     如果将创建一个挖掘模型，请选择要使用的数据挖掘算法，再单击 **“下一步”**。 有关如何选择一种算法的详细信息，请参阅[数据挖掘算法（Analysis Services - 数据挖掘）](data-mining-algorithms-analysis-services-data-mining.md)。  
  
5.  在 **“选择源多维数据集维度”** 页上的 **“选择源多维数据集维度”** 下，找到包含您的主要事例数据的维度。  
  
     例如，如果你正在尝试标识客户分组，则可以选择“客户”维度；如果你正在尝试分析交易中的购买行为，则可以选择“Internet 销售订单详细信息”维度。 您不会被局限为仅使用此维度中的数据，但该维度应该包含要在分析中使用的重要属性。  
  
     单击“下一步” 。  
  
6.  在 **“选择事例键”** 页的 **“属性”** 下，选择将成为挖掘结构键的属性，然后单击 **“下一步”**。  
  
     通常，您用作挖掘架结构的键的属性也是用于维度的键并且将预先选择。  
  
7.  在 **“选择事例级别列”** 页的 **“相关属性和度量值”** 下，选择包含您要作为事例数据添加到挖掘架构的值的属性和度量值。 单击“下一步” 。  
  
8.  在 **“指定挖掘模型列用法”** 页的 **“挖掘模型结构”** 下，首先选择可预测列，然后选择要用作输入的列。  
  
    -   选中最左侧列中的复选框可包括挖掘模型中的数据。 您可以在将用于引用的结构中包括列，但不使用这些列进行分析。  
  
    -   选中 **“输入”** 列中的复选框可以将属性用作分析中的变量。  
  
    -   仅对于可预测属性，选中 **“预测”** 列中的复选框。  
  
     请注意，已指定为键的列不能用于输入或预测。  
  
     单击“下一步” 。  
  
9. 在 **“指定挖掘模型列用法”** 页上，您还可以使用 **“添加嵌套表”** 和 **“删除嵌套表”**，添加和删除挖掘模型中的嵌套表。  
  
     在 OLAP 挖掘模型中，嵌套表是多维数据集中与表示事例属性的维度具有一对多关系的另一组数据。 因此，在对话框打开时，它将预先选择已经与您作为事例表选择的维度相关的维度组。 此时，您可以选择包含可用于分析的附加信息的其他维度。  
  
     例如，如果你正在分析客户，则可以使用 [Customer] 维度作为事例表。 对于嵌套表，可以添加客户在进行购买时陈述的原因，该原因包含在 [Sales Reason] 维度中。  
  
     如果您添加嵌套数据，则必须还要指定两个列：  
  
    -   嵌套表的键：这应该在“选择嵌套表键”页上预先选择。  
  
    -   要用于分析的属性： **“选择嵌套表列”** 页提供嵌套表选择中度量值和属性的列表。  
  
        -   对于要包含在模型中的每个属性，请选中左侧列中的复选框。  
  
        -   如果您要将该属性仅用于分析，请选中 **“输入”**。  
  
        -   如果您想要将列作为模型的可预测属性之一包括，则选中 **“预测”**。  
  
        -   任何项都包括在结构中但未指定作为输入或可预测属性添加到具有标志结构`Ignore`; 这意味着在生成模型，但不是使用在分析中，并仅用于灾难恢复时处理数据illthrough。 如果您想要包含详细信息（例如客户名称），但不想在分析中使用这些信息时，此功能可能会给您带来便利。  
  
     单击 **“完成”** 关闭用于嵌套表的向导部分。 您可以重复此过程，添加多个嵌套列。  
  
10. 在 **“指定列的内容和数据类型”** 页的 **“挖掘模型结构”** 下，设置每列的内容类型和数据类型。  
  
    > [!NOTE]  
    >  OLAP 挖掘模型不支持使用“检测”功能自动检测列包含连续数据还是离散数据。  
  
     单击“下一步” 。  
  
11. 在 **“对源多维数据集进行切片”** 页上，您可以筛选用于创建挖掘结构的数据。  
  
     通过对多维数据集进行切片操作，您可以限制用于生成模型的数据。 例如，您可以通过对“地域”层次结构执行切片操作，为每个区域生成单独的模型。  
  
    -   **维度**：从下拉列表中选择一个相关维度。  
  
    -   **层次结构**：选择要应用筛选器的维度层次结构的级别。 例如，如果按 [Geography] 维度进行切片，则可以选择某一层次结构级别，例如 [Region Country Name]。  
  
    -   **运算符**：从列表中选择运算符。  
  
    -   **筛选表达式**：键入要用作筛选条件的值或表达式，或者使用下拉列表从层次结构的指定级别上的成员列表中选择某一值。  
  
         例如，如果选择了 [Geography] 作为维度，并且选择了 [Region Country Name] 作为层次结构级别，则下拉列表包含可用作筛选条件的所有有效国家/地区。 您可以进行多选。 因此，挖掘结构中的数据将被限制为来自这些地域的多维数据集数据。  
  
    -   **参数**：忽略此复选框。 此对话框支持多个多维数据集筛选方案，并且此选项不针对生成挖掘结构。  
  
     单击“下一步” 。  
  
12. 在 **“将数据拆分为定型集和测试集”** 页上，指定为测试保留的挖掘结构数据的百分比，或者指定最大测试事例数。 单击“下一步” 。  
  
     如果指定两个值，则使用这两个限制值中的最小值。  
  
13. 在 **“完成向导”** 页上，提供新的 OLAP 挖掘结构的名称以及初始挖掘模型。  
  
14. 单击 **“完成”**。  
  
15. 在“完成向导”页上，还具有创建挖掘模型维度的选项和/或使用挖掘模型维度的多维数据集。 只有使用下列算法生成的模型才支持这些选项：  
  
    -   Microsoft 聚类分析算法  
  
    -   Microsoft 决策树算法  
  
    -   Microsoft 关联规则算法  
  
     **创建挖掘模型维度**：选中此复选框并且为挖掘模型维度提供类型名称。 在您使用此选项时，将在用于生成挖掘结构的原始多维数据集内创建一个新维度。 您可以使用此维度进行下钻和执行进一步的分析。 因为该维度位于多维数据集内，所以，该维度将自动映射到事例数据维度。  
  
     **使用挖掘模型维度创建多维数据集**：选中此复选框，并且为新的多维数据集提供名称。 在您使用此选项时，将创建一个新的多维数据集，该多维数据集包含在生成结构中使用的现有维度和包含模型结果的新数据挖掘维度。  
  
## <a name="see-also"></a>请参阅  
 [挖掘结构任务和操作指南](mining-structure-tasks-and-how-tos.md)  
  
  