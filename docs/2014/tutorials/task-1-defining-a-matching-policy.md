---
title: 任务1：定义匹配策略 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
ms.assetid: 6f89a720-fce5-4f60-bef3-a159bbc9f25c
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 7bcc2ddcb8c8fbf33c51fb82d1b1c2fd8308bd28
ms.sourcegitcommit: 57f1d15c67113bbadd40861b886d6929aacd3467
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/18/2020
ms.locfileid: "85064834"
---
# <a name="task-1-defining-a-matching-policy"></a>任务 1：定义匹配策略
  在本任务中，您将创建含有一个规则的匹配策略。 该规则具有一个先决条件：**供应商 id**，这意味着在使用该规则中的其他域之前，供应商 id 必须匹配。 此规则使用其他两个域： "**相似性**" 值设置为**70%** 的 "**供应商名称** **" 和 "** **相似性**" 值设置为**30%**。  
  
1.  在**DQS 客户端**的主页中，单击 "**供应商**" "知识库" 旁边的 "**向右箭头**"，然后选择 "**匹配策略**"。  
  
     ![主页上的“匹配策略”菜单](../../2014/tutorials/media/et-definingamatchingpolicy-01.jpg "主页上的“匹配策略”菜单")  
  
2.  在 "**映射**" 页上，为 "**数据源**" 选择 " **Excel 文件**"。  
  
3.  单击 "**浏览**"，确保 "筛选器" 设置为 " **Excel 工作簿**"，并选择在执行清理活动后导出的**清理供应商 List.xls**文件。  
  
    > [!NOTE]  
    >  在此活动结束时，您不能导出结果，因为此活动的主要目的是定义匹配策略。 您将为匹配活动创建一个数据质量项目，然后，您将在下一课中运行此项目以便使用此匹配策略从供应商列表中删除重复项。  
  
4.  将**供应商 ID 列映射到**供应商**ID**域、**供应商名称**列到**供应商名称**域、 **ContactEmailAddress**列，以**联系电子邮件**域。 您仅需将源列映射到要用于定义匹配策略的域。 在这个例子中，您要使用 Supplier ID、Supplier Name 和 Contact Email 域来执行匹配策略活动。  
  
     ![匹配策略定义过程的“映射”页](../../2014/tutorials/media/et-definingamatchingpolicy-02.jpg "匹配策略定义过程的“映射”页")  
  
5.  单击 "**下一步**" 转到 "**匹配策略**" 页，你将在其中定义一个规则。  
  
6.  单击工具栏上的 "**创建匹配规则**" 按钮，在策略中创建规则。  
  
     ![“创建匹配规则”工具栏按钮](../../2014/tutorials/media/et-definingamatchingpolicy-03.jpg "“创建匹配规则”工具栏按钮")  
  
7.  在右侧的 "**规则详细信息**" 窗格中，输入 "删除**规则名称**的**重复供应商**"。  
  
8.  在右侧窗格的工具栏中，单击 "**添加新的域元素**"。  
  
     ![规则详细信息 -“添加新的域元素”按钮](../../2014/tutorials/media/et-definingamatchingpolicy-04.jpg "规则详细信息 -“添加新的域元素”按钮")  
  
9. 选择**域**的 "**供应商 ID** "，然后选择 "**先决条件**" 复选框。 请注意，**相似性**自动设置为 "**精确**"。 通过将**供应商 ID**设置为**必备项**，你可以指定两个记录中此字段的值必须返回100% 匹配，否则，这些记录将不会被视为匹配且忽略规则中的其他子句。  
  
     ![删除重复的供应商规则定义](../../2014/tutorials/media/et-definingamatchingpolicy-05.jpg "删除重复的供应商规则定义")  
  
10. 再次单击工具栏中的 "**添加新的域元素**"。  
  
11. 选择 "**供应商名称**域" **，选择 "** **相似性**"，然后键入**70**作为**权重**。  在这里，您指定供应商名称无需完全相同，但可以相似，以便将记录视作匹配。 权重指示该字段的分数对总匹配分数的贡献。  
  
12. 重复上述两个步骤，添加**权重**为**30**的**联系人电子邮件**域。  
  
13. 请注意，"**最小匹配分数**" 设置为**80%**，这是在 " **DQS 管理**" 的 "**配置**" 页的 "**常规**" 选项卡中看到的值。 您只能将此分数增加为高于此处的这个阈值。  
  
14. 请注意，"**重叠的群集**" 选项处于选中状态。 通过此选项，一条记录可以显示在多个群集中。 如果您将该设置为更改为“不重叠的群集”，则具有公共记录的多个群集将合并成单个群集。  
  
15. 此页上的 "**启动**" 按钮可让你分别测试策略中的每个规则，而下一页中的 "启动" 按钮可让你测试整个策略（策略中的所有规则）。  
  
16. 单击 "**下一步**" 以切换到 "**匹配结果**" 页。  
  
## <a name="next-step"></a>下一步  
 [任务 2：测试和发布匹配策略](../../2014/tutorials/task-2-testing-and-publishing-the-matching-policy.md)  
  
  
